# Password Spraying
---

## ***Attacking office365 portal***
[**TrevorSpray**](https://github.com/blacklanternsecurity/TREVORspray) : is the best tool (till now) to spray O365 with alot of good options!

- When using the tool observe the errors, then higher/lower the delay to make sure everything is ok.

- Every error other than   `Invalid [snip..]` may be a valid login so check it manually.
- it's recommended to spawn aws instances to proxy through to avoid getting your ip blocked.
-- Recommended Command : 
`./trevorspray.py -e emails.txt -p <PASSWORD> -d 1 -n -s <instance>@<ip> <instance>@<ip>`
---
## ***Attacking Outlook web app***
- Using metasploit Auxilary ->  `scanner/http/owa_login`
-- The module advantage is that it detects if the user name is valid.
 -- It supplies us the internal domain after a valid login.
---
## ***Other Login portals***
- Using Burpsuite
--Bypass rate limit or other general security measures by using tricks showed in [**Portswigger Academy**](https://portswigger.net/web-security/authentication)
---
## ***Bypassing MFA***
- [**MFAsweep**](https://github.com/dafthack/MFASweep): MFASweep is a PowerShell script that attempts to log in to various Microsoft services using a provided set of credentials and will attempt to identify if MFA is enabled.
---
## ***Notes***:
- Try Default creds if available.
- Think logically how to tweak passwords.
- Street address, company name, footballl team ..etc can be good variations to try.
- Be aware of the 'Lock out policy' to stay away from locking an admin account or so.
- Spraying VPN portals isn't a good idea because they offen have a good detection mechanism.
---
### ***Next Step***:
**[[3-Attacking strategy]]**
