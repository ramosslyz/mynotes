# SSRF
---
# Attack vectors
1. Parser logic
2. Web-application logic
3. unfiltered user input
## PDF Generators
In some cases, a server may convert uploaded files to PDF format. Try injecting `<iframe>`, `<img>`, `<base>`, or `<script>` elements, or CSS `url()` functions pointing to internal services.

```
<iframe src="file:///etc/passwd" width="400" height="400">
<iframe src="file:///c:/windows/win.ini" width="400" height="400">
- 
```

## Common Filter Bypass

Some applications block references to `localhost` and `127.0.0.1`. This can be circumvented by:

-   Using alternative IP representation that evaluate to `127.0.0.1`:
    -   Decimal notation: `2130706433`
    -   Octal notation: `017700000001`
    -   IP shortening: `127.1`
-   String obfuscation
-   Registering your own domain that resolves to `127.0.0.1` (DNS rebinding)

## References
- [https://book.hacktricks.xyz/pentesting-web/ssrf-server-side-request-forgery](https://book.hacktricks.xyz/pentesting-web/ssrf-server-side-request-forgery)
- [DNS rebinding attack](https://geleta.eu/2019/my-first-ssrf-using-dns-rebinfing/)
-   [swisskyrepo: SSRF Payloads](https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/Server%20Side%20Request%20Forgery)
-   [Reading Internal Files Using SSRF Vulnerability](https://medium.com/@neerajedwards/reading-internal-files-using-ssrf-vulnerability-703c5706eefb)
-   [Abusing the AWS Metadata Service Using SSRF Vulnerabilities](https://blog.christophetd.fr/abusing-aws-metadata-service-using-ssrf-vulnerabilities/)